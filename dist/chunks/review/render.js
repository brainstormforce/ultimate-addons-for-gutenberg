(window.webpackJsonp_ultimate_addons_for_gutenberg=window.webpackJsonp_ultimate_addons_for_gutenberg||[]).push([[84],{260:function(e,t,a){"use strict";var r=a(19),n=a.n(r)()((function(e){return e[1]}));n.push([e.i,"",""]),t.a=n},520:function(e,t,a){"use strict";a.r(t);var r=a(15),n=a.n(r),i=a(4),o=a(2),u=a(142);function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,void 0);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var s,m=function(e){var t=e.ID,a=e.items,r=e.summaryTitle,n=e.summaryDescription,c=e.starCount,s=e.setItems,m=e.setSummaryDescription,g=e.setSummaryTitle,d=e.setTitle,v=e.setDescription,f=e.setAuthorName,b=e.inactiveStarColor,h=e.activeStarColor,p=e.selectedStarColor,y=e.starOutlineColor,S=e.ctaTarget,_=e.ctaLink,C=e.setActiveStarIndex,w=e.rTitle,E=e.rContent,N=e.rAuthor,T=e.headingTag,R=e.image_icon_html,A=e.showfeature,O=e.imageEnabled,k=e.descriptionEnabled,I=e.showauthor,j=e.state.average,D=a.map((function(e){return e.value})).reduce((function(e,t){return e+t}))/a.length;j!==D&&e.setStateValue({average:D});var V="_self";return S&&(V="_blank"),React.createElement("div",{className:"uagb_review_block"},React.createElement("a",{href:_,className:"uagb-rating-link-wrapper",target:V,rel:"noopener noreferrer"},React.createElement(i.RichText,{tagName:T,placeholder:Object(o.__)("Title of the review","ultimate-addons-for-gutenberg"),keepPlaceholderOnFocus:!0,value:w,className:"uagb-rating-title",onChange:function(e){return d(e)}})),!0===k&&React.createElement(i.RichText,{tagName:"p",placeholder:Object(o.__)("Review Description","ultimate-addons-for-gutenberg"),keepPlaceholderOnFocus:!0,value:E,className:"uagb-rating-desc",onChange:function(e){return v(e)}}),!0===I&&React.createElement(i.RichText,{tagName:"p",placeholder:Object(o.__)("Review Author","ultimate-addons-for-gutenberg"),keepPlaceholderOnFocus:!0,value:N,className:"uagb-rating-author",onChange:function(e){return f(e)}}),!0===O&&React.createElement("div",{className:"uagb-rating__source-wrap"},R),a.map((function(r,n){return!0===A&&React.createElement("div",{className:"uagb_review_entry",key:n},React.createElement(i.RichText,{style:{marginRight:"auto"},placeholder:Object(o.__)("Edit feature"),value:r.label,onChange:function(e){return s([].concat(l(a.slice(0,n)),[{label:e,value:r.value}],l(a.slice(n+1))))}}),React.createElement("div",{style:{marginLeft:"auto",minWidth:a.length>1?120:100}},a.length>1&&React.createElement("div",{className:"dashicons dashicons-trash",onClick:function(){var t=a.slice(0,n).concat(a.slice(n+1,a.length));s(t),e.setStateValue({average:t.map((function(e){return e.value})).reduce((function(e,t){return e+t}))/t.length})}}),React.createElement(u.a,{id:"".concat(t,"-").concat(n),key:n,value:r.value,limit:c,setValue:function(t){var i=[].concat(l(a.slice(0,n)),[{label:r.label,value:t}],l(a.slice(n+1)));s(i),C(n),e.setStateValue({average:i.map((function(e){return e.value})).reduce((function(e,t){return e+t}))/i.length})},inactiveStarColor:b,activeStarColor:h,selectedStarColor:p,starOutlineColor:y,state:e.starState,setStateValue:e.starSetStateValue})))})),!0===A&&React.createElement("div",{title:Object(o.__)("Insert new review entry"),onClick:function(){s([].concat(l(a),[{label:"",value:0}])),e.setStateValue({average:j/(a.length+1)})},className:"uagb_review_add_entry dashicons dashicons-plus-alt"}),React.createElement("div",{className:"uagb_review_summary"},React.createElement(i.RichText,{className:"uagb_review_summary_title",placeholder:Object(o.__)("Title of the summary goes here","ultimate-addons-for-gutenberg"),tagName:"p",onChange:function(e){return g(e)},value:r}),React.createElement("div",{className:"uagb_review_overall_value"},React.createElement(i.RichText,{placeholder:Object(o.__)("Summary of the review goes here","ultimate-addons-for-gutenberg"),onChange:function(e){return m(e)},value:n}),React.createElement("div",{className:"uagb_review_average"},React.createElement("span",{className:"uagb_review_rating"},Math.round(10*j)/10),React.createElement(u.a,{id:"".concat(t,"-average"),className:"uagb_review_average_stars",onHover:function(){return null},onClick:function(){return null},value:j,limit:c,inactiveStarColor:b,activeStarColor:h,selectedStarColor:p,starOutlineColor:y,state:e.starState,setStateValue:e.starSetStateValue})))))},g=a(3),d=a.n(g),v=a(18),f=a.n(v),b=a(260),h=0,p={injectType:"lazySingletonStyleTag",attributes:{id:"uagb-editor-styles"},insert:"head",singleton:!0},y={};y.locals=b.a.locals||{},y.use=function(){return h++||(s=f()(b.a,p)),y},y.unuse=function(){h>0&&!--h&&(s(),s=null)};var S=y;function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=a){var r,n,i=[],_n=!0,o=!1;try{for(a=a.call(e);!(_n=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);_n=!0);}catch(e){o=!0,n=e}finally{try{_n||null==a.return||a.return()}finally{if(o)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var w=function(e){Object(g.useLayoutEffect)((function(){return S.use(),function(){S.unuse()}}),[]);var t=e=e.parentProps,a=t.attributes,r=a.block_id,i=a.authorName,o=a.itemName,u=a.description,l=a.parts,c=a.starCount,s=a.summaryTitle,v=a.summaryDescription,f=a.inactiveStarColor,b=a.activeStarColor,h=a.ctaLink,p=a.ctaTarget,y=a.rTitle,C=a.rContent,w=a.rAuthor,E=a.headingTag,N=a.mainimage,T=a.imgSize,R=a.showFeature,A=a.showAuthor,O=a.starOutlineColor,k=a.enableDescription,I=a.enableImage,j=t.setAttributes,D=t.isSelected,V=t.className,x={average:e.attributes.parts.map((function(e){return e.value})).reduce((function(e,t){return e+t}))/e.attributes.parts.length},L=_(Object(g.useState)(x),2),z=L[0],F=L[1],P={displayValue:e.value,displayColor:e.activeStarColor},M=_(Object(g.useState)(P),2),U=M[0],H=M[1],J="",$="";void 0!==e.attributes.mainimage&&null!==e.attributes.mainimage&&""!==e.attributes.mainimage&&(J=e.attributes.mainimage.url,$=e.attributes.mainimage.title);var W="";if(""!==J){var q=e.attributes.mainimage.sizes,B=e.attributes.imgSize;W=void 0!==q&&void 0!==q[B]?q[B].url:J}var G="";return N&&N.url&&(G=d.a.createElement("img",{className:"uagb-review__source-image",src:W,title:$})),d.a.createElement("div",{className:n()(V,"uagb-ratings__outer-wrap","uagb-block-".concat(r.substr(0,8)))},d.a.createElement(m,{rTitle:y,setTitle:function(e){return j({rTitle:e})},ctaLink:h,ctaTarget:p,rContent:C,setDescription:function(e){return j({rContent:e})},rAuthor:w,setAuthorName:function(e){return j({rAuthor:e})},headingTag:E,mainimage:N,imgSize:T,imageIconHtml:G,isSelected:D,authorName:i,itemName:o,description:u,descriptionEnabled:k,ID:r,imageEnabled:I,items:l,starCount:c,summaryTitle:s,summaryDescription:v,inactiveStarColor:f,activeStarColor:b,selectedStarColor:b,starOutlineColor:O,setItemName:function(e){return j({itemName:e})},setImage:function(e){return j({imgID:e.id,imgURL:e.url,imgAlt:e.alt})},setItems:function(e){return j({parts:e})},setSummaryTitle:function(e){return j({summaryTitle:e})},setSummaryDescription:function(e){return j({summaryDescription:e})},hasFocus:D,setEditable:function(e){return F({editable:e})},setActiveStarIndex:function(e){return F({editedStar:e})},showfeature:R,showauthor:A,state:z,setStateValue:F,starState:U,starSetStateValue:H}))};t.default=d.a.memo(w)}}]);